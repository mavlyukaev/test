# Дипломная работа
Разработка веб-приложения для видео-мэппинга картинной галереи
- это веб-приложение, написанное на языке Python, которое создаёт и отображает **Parallax**-видео на основе изображения.

## Компоненты
- Веб-сервер (Flask, порт 64005);
- Обработчик (Celery, использует **Redis**);

## Анимации
- Поддерживаются 4 вида анимаций: круговая, вертикальная, горизонтальная, приближение;
- Каждая анимация имеет свой набор параметров, которые можно изменить.

### Анимации. Общие параметры
- **Длительность (integer)**: длительность выходного видео в секундах;
- **Кадры в секунду (integer)**: количество кадров в секунду в выходном видео;
- **Высота (integer)**: высота выходного видео;
- **Ширина (integer)**: ширина выходного видео;

### Анимации. Круговая. Параметры
- **Использовать (boolean)**: использовать анимацию в выходном видео;
- **Интенсивность (integer)**: глобальная интенсивность анимации (масштабирует все амплитуды); 
- **Изометрия (integer)**: "плоскостность" проекции, 0 - перспективная, 1 - изометрическая;
- **Постоянность (integer)**: значение глубины без смещений при перемещении камеры;
- **Реверс (string)**: направление для воспроизведения анимации;
- **Кумулятивность (string)**: добавить к целевому значению предыдущие кадры;
- **Плавность(string)**: плавный вариант анимации (часто в виде синусоидальной волны); 

### Анимации. Вертикальная. Параметры
- **Использовать (boolean)**: использовать анимацию в выходном видео;
- **Зациклить (boolean)**: повторять анимацию;
- **Интенсивность (integer)**: глобальная интенсивность анимации (масштабирует все амплитуды); 
- **Изометрия (integer)**: "плоскостность" проекции, 0 - перспективная, 1 - изометрическая;
- **Постоянность (integer)**: значение глубины без смещений при перемещении камеры;
- **Реверс (string)**: направление для воспроизведения анимации;
- **Кумулятивность (string)**: добавить к целевому значению предыдущие кадры;
- **Плавность(string)**: плавный вариант анимации (часто в виде синусоидальной волны); 

### Анимации. Горизонтальная. Параметры
- **Использовать (boolean)**: использовать анимацию в выходном видео;
- **Зациклить (boolean)**: повторять анимацию;
- **Интенсивность (integer)**: глобальная интенсивность анимации (масштабирует все амплитуды); 
- **Изометрия (integer)**: "плоскостность" проекции, 0 - перспективная, 1 - изометрическая;
- **Постоянность (integer)**: значение глубины без смещений при перемещении камеры;
- **Реверс (string)**: направление для воспроизведения анимации;
- **Кумулятивность (string)**: добавить к целевому значению предыдущие кадры;
- **Плавность(string)**: плавный вариант анимации (часто в виде синусоидальной волны); 

### Анимации. Приближение. Параметры
- **Использовать (boolean)**: использовать анимацию в выходном видео;
- **Зациклить (boolean)**: повторять анимацию;
- **Реверс (string)**: направление для воспроизведения анимации;
- **Кумулятивность (string)**: добавить к целевому значению предыдущие кадры;
- **Плавность (string)**: плавный вариант анимации (часто в виде синусоидальной волны); 

## Как установить

**Установка**
1. Создайте *виртуальное окружение*:
> python -m venv venv

2. Активируйте *виртуальное окружение*:
> venv\Scripts\activate

3. Установите *зависимости*:
> pip install torch==2.4.1+cpu torchaudio==2.4.1+cpu torchvision==0.19.1+cpu -f https://download.pytorch.org/whl/cpu/torch_stable.html

> pip install -r requirements.txt

4. Запуск *Docker*:
> Открыть Docker Desktop

> Запустить Redis в Docker: docker run -d --name redis -p 6379:6379 redis

5. Запустите *веб-сервер*:
> python main.py

6. Запустите *обработчик* (в новом терминале):
> venv\Scripts\activate

> celery -A main.celery worker --loglevel=info --pool=solo
